![3](../3_UIelements/SVG/3.svg)



# 无竞　BidChain

* Dev Team：Pyxis.
* Members：Qixuan Zhang,HaoTian Jing,Zeyu Zheng,Sicheng Zhang.

## Keywords

- 区块链
- 加密
- 公开/非公开/邀请制招标
- 完全互不知保证

## 项目介绍

### 简介

无竞（BidChain）是一套基于区块链的多模式招标系统.

### 项目优势

* 完全互不知保证
* 在保证招标流程完整、行为有效的前提下，实现了在招标方&投标方视角下的流程优化
* 保证了招标&投标信息的安全性及可信度
* 降低了暗箱操作的可能 
* 规避了投标者的保证金遗失风险
* ……

### 技术实现

#### 评估标准&评估材料

这是一个可自定义的评标组件.

招标方可以在此处设计评标计算公式、指标准入条件等一系列评估的标准以计算最终中标者，后期考虑通过加入一部分开放给招标方的灵活分来保证招标方的偏好（如给予有合作经历的投标方一定加分等）.

投标方在此处投入招标方要求提供的各项指标值.

*技术方案：评估标准是个自建函数，评估材料是对应的参数表.*

#### 完全互不知保证

结合“零知识证明”的理念设计了该系统.

该系统可以实现投标方互不知晓双方所提供的竞标筹码（包括工程额、各项技术指标等）,却能相信评标前后竞标信息未被修改.杜绝了投标过程中招标方泄露”已收到的材料“的及评标后由招标方人员暗箱替换标书的可能性.即保证了完全互不知.

*技术方案：在开标阶段，投标方提交评估材料的哈希密文信息；在达到标书递交截止时间后，已提交密文的投标方再进一步提交明文信息，由智能合约加密后再与原先密文对比，密文相同则投标成功.*

#### 非公开模式

一个简易的许可机制.

招标方通过该模式实现邀请制/非公开招标，只对指定对象开放招标许可. 

*技术方案：以非公开招标为例，招标方在阅读甲方招标信息后，以线下形式向招标方申请许可；招标方同意后，将投标方的钱包地址投入到智能的数组中（准入序列），智能合约返回投标方的地址在该数组中的位置，再由招标方线下告知投标方该位置（可以防止每次投递材料都需要智能合约遍历该数组，产生没必要的Gas）.*

#### 保证金流向

实现链上冻结保证金，规避双方风险.

根据招标流程，投标方在投标的同时需要提交一份保证金；然而，曾有一些招标方拖延保证金退还甚至内部人员的捐款潜逃的案例.通过智能合约替代现金、银行汇票、银行本票、支票等媒介，降低该流程可能出现问题的风险.

*技术方案：在密文提交阶段，乙方同时将保证金投入智能合约，由智能合约保管；在中标者产生后，由智能合约退还未中标者保证金，再将中标者保证金递交招标方（这样最多只有一份保证金在招标方手里，规避风险）.招标方确认投标方投标信息真实且在签订合同后，自行退还保证金.*

## 流程

### 发起招标

由招标方向智能合约提供：

- 招标协议：包含工程要求、项目书及基本情况等，考虑到以太坊储存超文本文件相对昂贵，协议考虑保存在同样去中心化的`IPFS`（星际文件系统）中，智能合约中仅提供`ID`
- 评估标准：需要投标方提供的指标准入条件及量化的契合度比对函数，用于计算中标者
- 含招标时间表（开始时间&提交明文时间&结束时间）
- 流标值：有效投标数小于某个数则流标
- 要求的保证金：即由投标方投入智能合约中的保证金

### 准备投标

1. 前端从智能合约提取并公告上述内容
2. 投标方查看招标信息，向招标方线下请示，招标方向合约提交投标方的准入地址，返回一个该地址在准入序列中的位置`tokennum`，招标方以线下形式告知投标方.

### 投标

*此处加密为类Hash加密*.

1. 到达招标开始时间后：投标方上传"加密后的评估材料(相当于评估函数的参数表)"&保证金&`tokennum`&佐证材料的`IPFS ID`（可选）投到智能合约
2. 招标结束：投标方在规定时间内在智能合约中投入明文评估材料，由智能合约加密后与之前收到的加密信息比对，密文相同、且经过运算符合评估标准的准入条件则为有效投标；有效投标数小于流标值则流标
3. 每投入一份明文，智能合约计算评估标准契合度，保留契合度最高者
4. 招标方查询招标结果，触发`Event`由前端提取并公布中标者信息
5. 智能合约退还未中标者的保证金，将中标者保证金转交招标者
6. 投标结束

### 后续（同链下招标）

1. 招标方确认投标方投标信息真实且在签订合同后，自行退还保证金.

2. 如果信息造假，招标方有权保管保证金并采取法律手段

## 平台化实现

* 开发一套面向用户的图形化二次开发工具

- 实现评估标准的自主傻瓜式订制
- 对外提供数据接口，实现信息的整合

- 评估标准中引入偏好比例分

- 采用币值相对稳定的`Dai`币进行交易
